# vim: ft=sh sw=2 ts=2

alias vimf='vim $(fzf)'

# git
alias gp='git push'

function rsa-fingerprint() {
   openssl rsa -pubout -outform DER -in $1 2> /dev/null | openssl md5 -c
}

if [ ! $(uname -s) = "Darwin" ]; then
  alias pbcopy='xclip -in -selection clipboard'
  alias pbpaste='xclip -selection clipboard -o'
fi

function minikube-proxy {
  local ip
  ip="$(minikube ip)" || return
  if [[ ! $no_proxy = *"${ip}"* ]]; then
    export no_proxy=${no_proxy},${ip}
  fi
  export NO_PROXY=${no_proxy}
}

function minikube-up {
  minikube start  \
    --docker-env http_proxy=$http_proxy \
    --docker-env https_proxy=$https_proxy \
    --docker-env no_proxy=127.0.0.1
  minikube-proxy
}


function proxy-off {
  unset HTTPS_PROXY HTTP_PROXY https_proxy http_proxy
}
